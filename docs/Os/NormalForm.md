---
title: 基础知识
---

# 基础知识

进程的特性：并发性、动态性、独立性、交往性、异步性、结构性

用P、V操作管理互斥使用的资源时，信号量的初值应定义为 1 

管程具有三个主要的特征：模块化、抽象数据类型、信息隐蔽

OPT：理想页面置换算法（Optimal replacement）

LRU：最近最少使用页面置换算法（Least Recently Used）

PSW：程序状态字（Program Status Word）

系统中存在一些中断，即使在PSW中被屏蔽，处理器也会响应其请求

用户视图看到的文件称逻辑文件，逻辑文件可采用流式文件和记录式文件两种组织方式

周转时间：从一个批处理进程提交时刻开始直到该进程完成时刻为止的统计平均时间（小林coding：进程运行时间+进程等待时间）

在操作系统运行过程中，处理器的状态是动态改变的，从目态到管态的转换是通过中断实现的

如果有若干进程共享某一临界区，则该临界区称为相关临界区

存储分区的保护方法有两种，一种是系统设置界限寄存器，另一种是保护键方法

在操作系统的I/O软件中，采用文件系统路径名的方法来命名设备

资源的共享和竞争存在于多道程序的并发执行中，从而制约了各道程序的执行速度。由于本来并无逻辑关系的程序之间产生了相互制约的关系，而各个程序活动的工作状态与所处的环境有密切关系，使并发程序的执行出现了 执行——暂停——执行 的活动现象

操作系统的特性：并发性、共享性、虚拟性、随机性

信号（Signal）函数是UNIX处理异步事件的经典方法

永久性资源（可重用资源），是指系统中可供进程重复使用、长期存在的资源，如内存、外部设备、处理器等硬件资源，以及各种数据文件、表格、共享程序代码等软件资源；临时性资源（消耗型资源），是指由某个进程所产生，只为另一个进程使用一次或经过短暂时间后便不再使用的资源，如I/O和时钟中断信号、同步信号、消息等

如果资源分配图中出现了环路，则系统中可能存在死锁。如果处于环路中的每个资源类中均只有一个资源实例，则环路的存在即意味着死锁的存在。此时，环路是死锁的充分必要条件

操作系统的设计过程一般可分为三个部分：功能设计、算法设计和结构设计

存储的最小单位称为“二进位”。存储器的最小编址单位是字节

为了从操作系统中获得服务，用户程序必须使用系统调用，系统调用陷入内核并调用操作系统。访问指令把目态切换成管态，并启用操作系统

在进程中访问临界资源的程序称为临界区

互斥信号量，初值为1，用于互斥访问消息队列；同步信号量，初值为0，用于消息计数

成组链接这种方案能够迅速找到大量空闲盘块地址

若以系统中信息组织方式来划分设备，可将I/O设备划分为字符设备和块设备

顺序性、封闭性是程序顺序执行时的基本特性，由此可以引出程序顺序执行时，其执行结果具有两个特性，即执行结果的确定性和可再现性

从静态的角度看，进程是由数据、程序和进程控制块(PCB)三个部分组成的

一个管程由四部分组成，分别为管程名称、共享数据的说明、对数据进行操作的一组过程和对共享数据的初始化代码

在哲学家就餐问题中，为防止死锁的产生，可以采用资源的有序分配法，即规定每个哲学家想用餐时总是先拿编号小的筷子再拿编号大的筷子就不会出现死锁现象

分区管理是一种能够满足多道程序运行的最简单的存储管理方案，有两种分区方式，分别为固定分区和可变分区

计算机系统中一组带标识的、逻辑上有完整意义的信息项的序列称为文件

Windows系统的FAT文件系统采用的文件物理结构是链接结构

启动磁盘执行输入输出时，执行一次输入输出所花的时间包括寻找时间、延迟时间和传送时间

通信规范化主要是指模块之间的接口应该清晰划一，模块的联系方式要统一，这是标准化的一种方式

每当存储器要访问内存时，硬件自动将被访问的内存地址与界限寄存器的内容进行比较，以判断是否越界。如果未越界，则按此地址访问内存，否则将产生程序中断——越界中断或称为存储保护中断

资源有序分配法可以用来预防死锁。银行家算法是最著名的死锁避免算法。撤销进程法属于死锁的解除方法。资源分配图化简方法可以被用来检测系统是否为死锁状态

存储保护的目的在于多个程序共享内存提供保障，使在内存中的各道程序，只能访问它自己的区域，避免各道程序间相互干扰

目录项分解法计算平均访盘次数：(1+n)/2 + 1 其中第一个1表示最优情况，n表示最坏情况，后面的+1是访问到符号目录项查找基本目录项，最好和最坏情况都必须的一次访问，最优加最坏除以二得到平均访盘次数。n值计算：总目录数/（物理块大小/符号目录项大小）

共享性是指操作系统程序与多个用户程序共用操作系统中的各种资源，这种共享性是在操作系统控制下实现的

在多道程序环境中，由于系统资源的共享和竞争，本来并无逻辑关系的程序之间产生了相互制约的关系

在七状态进程模型中，被对换至外存的进程可能处于两种进程状态之一，即就绪挂起状态和阻塞挂起状态

采用共享文件解决进程之间的大量信息交换的通信方式称为管道通信

死锁的解除方法分为两大类，即剥夺资源和撤销进程

页式存储管理要求对程序中的逻辑地址空间进行分页，于是系统提供给编程使用的逻辑地址可由两部分组成：虚拟页号和页内地址

文件的物理结构采用索引结构能够支持文件插入、删除要求，适合顺序存取，也适合随机存取

按设备使用可共享性分类，可将I/O设备分为独占设备、共享设备和虚拟设备

正在运行的进程，由于规定的时间片用完而使得系统发出超时中断请求，此时进程状态将被修改为就绪状态

UNIX系统中父进程使用fork函数创建子进程后，新创建的子进程复制了父进程用户地址空间的内容

并发进程运行时产生“与时间有关的错误”的根本原因在于程序中共享了公共变量

若在系统中的某些资源一次只允许一个进程使用，则这类资源称为临界资源或共享变量，而在进程中访问临界资源的程序称为临界区

同一个进程的多个线程共享该进程的内存地址空间和文件，它们之间的同步和通信无需调用内核，实现容易且开销小

为实现进程管理，系统采用链接方式对所有的进程控制块(PCB)进行组织。其中，单向链接方式只有一个指针，前一进程的PCB中的指针值为下一个进程的PCB的地址；双向链接方式包含2个指针，分别指向前一个进程的PCB的地址和后一个进程的PCB的地址

检测死锁的实质是确定是否存在产生死锁四个必要条件中的循环等待条件

为了解决虚拟页式存储中的颠簸问题，可以采用工作集模型。对于给定的进程访问序列，从时刻(t-∆)到时刻t之间所访问页面的集合，称为该进程的工作集，∆称为工作集窗口

采用可变分区方式进行存储管理时，需要有硬件的地址转换机构进行支持，其中基址寄存器用来存储程序所占分区的起始地址，限长寄存器则用来存储程序所占分区的长度

把若干个逻辑记录合成一组并存储于一物理块的工作称记录的成组，每块中的逻辑记录个数称块因子

在UNIX系统的文件存取权限控制方案中，把用户分为文件主、文件主的同组用户和其他用户三类，可以对这三类用户分别设置不同的存取权限

设备分配通常采用先来先服务和高优先级优先两种方法，其中，前一种方法是按照进程提出时间先后进行排队，并总是把设备首先分配给排在队首的进程

通过增加资源数量的方法可以预防死锁，因为该方法能打破死锁必要条件中的互斥条件

银行家算法：进程首先提出对资源的最大需求量，当进程在执行中每次申请资源时，系统测试该进程已占用的资源与本次申请的资源数之和是否超过了该进程对资源的最大需求量。若超过则拒绝分配资源，若没有超过，则系统再测试系统现存的资源能否满足该进程尚需的**最大**资源量，若能满足则按当前的申请量分配资源，否则也要推迟分配

速度：寄存器 > 高速缓存

链接结构的优点：存储碎片问题解决了，有利于文件动态扩充，有利于文件插入和删除，提高了磁盘空间利用率。链接结构的缺点：存取速度慢，不适于随机存取文件；磁盘的磁头移动多，效率相对较低；存在文件的可靠性问题，比如指针出错，文件也就出错了；另外，链接指针需要占用一定的空间

Windows体系结构的主要层次中，执行操作系统中最基本的操作且使用运行在核心态的是内核，隐藏了与硬件有关的细节，为操作系统的硬件平台提供低级接口的是硬件抽象层(HAL)

线程的实现方式有两种，分别是用户级线程和内核级线程

进程控制通常采用原语来实现，当需要产生一个新进程时，系统使用创建原语；当该进程完成任务后，系统使用撤销原语来结束进程

管程能保障共享资源的互斥执行，即一个管程中活动的进程数最大为1个

按文件的用途可把文件分为系统文件、库函数文件和用户文件三类

对磁盘空闲块的管理通常有四种方案，分别为位示图、空闲块表、空闲块链表以及在此基础上的改进方案：空闲块成组链接法

I/O软件结构一般分为四层：中断处理程序、设备驱动程序、设备独立的操作系统软件和用户级软件

死锁的四个必要条件：互斥条件、请求与保持条件、不可剥夺条件、循环等待条件
=======
CF为进位标志位，ZF为零标志位，SF为符号标志位，OF为溢出标志位

创建一个目录属于文件操作类系统调用

实现进程同步的机制称为同步机制

两个进程争夺同一个资源，不一定产生死锁

资源分配图是一个有向图，圆圈表示进程，方框表示每类资源，申请边为从进程到资源的有向边，分配边为从资源到进程的有向边

索引结构保持了链接结构的优点，又解决了其缺点；索引文件可以满足文件动态增长的要求；索引文件可以充分利用外存空间；索引结构文件既适于顺序存取，也适于随机存取

在计算机系统中，对资源的共享一般有两种形式：互斥共享和同时共享

当中央处理器处于目态时不允许执行特权指令

死锁预防的基本思想是防患于未然

页式存储器提供编程使用的虚拟地址由两部分组成：虚拟页号和页内地址

根据系统设置的缓冲区的个数，可把缓冲技术分为单缓冲、双缓冲和多缓冲以及缓冲池等几种

特权指令是指在指令系统中那些只能由操作系统使用的指令，如设置程序状态字、启动某设备、设置中断屏蔽、设置时钟指令、清内存指令和建立存储保护指令等等

在引入线程的操作系统中，则把线程作为调度和分配的基本单位，把进程作为资源拥有的基本单位

进程间采用信箱方式进行通信时，进程调用send原语应提供的参数有指定的信箱名及信件名

UNIX普通文件的物理结构是三级索引结构

内核层是UNIX操作系统管理和控制中心，常驻内存。其具有两方面的接口，一方面是内核与硬件的接口，另一方面是内核与Shell的接口

当一个管程过程发现它无法继续运行时，它会在某个条件变量上执行wait操作
>>>>>>> 4408a706996a9bcf87bacc6e54a3db28ace85b07
